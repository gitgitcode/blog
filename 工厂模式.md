## 工厂方法模式

```
    abstract class ApptEncoder{
    	abstract function encode();
    }
    
    class BloggsApptEncoder extends ApptEncoder{
    	function encode(){
    		echo " Appintment Data encoded in BloggsCal format\n";
    	}
    }
    
    class MegaApptEncoder extends ApptEncoder{
    	function encode(){
    		echo "Appointment data encoded in MegaCal format\n";
    	} 
    }
```
    /*
    * 基础生成对象方法 
    * CommsManger 类负责生成BloggsApptEncoder类。
    */ 
```    
    class CommsManager{ 
    	function getApptEncode(){
    		return new BloggsApptEncoder();
    	}
    	function MegaApptEncoder(){
    		return new MegaApptEncoder();
    	}
    }
    $comms = new CommsManager();
    
    $blogg=$comms->getApptEncode();
    $blogg->encode();
    //Appintment Data encoded in BloggsCal format
    $Mega=$comms->MegaApptEncoder();
    $Mega->encode();
    //Appointment data encoded in MegaCal format 
```    
    /*
    * 通过策略模式声称对象
    * 创建对象需要指定条件
    * 增加新规则时需要重复多条规则判断语句
    */
```    
    class StrategyCommsManger{
    	const BLOGGS = 1;
    	const MEGA = 2;
    	private $mode = 1;
    
    	function __construct($mode){
    		$this->mode = $mode;
    	}
    
    	function getApptEncoder(){ //检查属性
    		switch($this->mode){
    			case (self::MEGA):
    				return new MegaApptEncoder();
    				break;
    			default:
    				return new BloggsApptEncoder();
    		}
    	}
    }
    
    $strategy = new StrategyCommsManger(StrategyCommsManger::MEGA);
     //传参 StrategyCommsManger::MEGA
    $apptEncoder = $strategy ->getApptEncoder();
    print $apptEncoder->encode();
    //Appointment data encoded in MegaCal format 
  ```
