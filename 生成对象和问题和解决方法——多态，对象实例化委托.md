# 生成对象和问题和解决方法

        abstract class employee{
        	 
        	protected $name;
>        	
        	private static $types = array('minion','cluedup','wellconneted');
        	static function recruit($name){ //静态方法
        		$num = rand(1,count(self::$types) -1);
        		$class = self::$types[$num];
        		return new $class($name);
        	}
>       
        	function __construct($name){
        		$this->name = $name; 
        	}
        	abstract function fire();
        }
        
        class minion extends employee{//属下
        		function fire(){
        			print "{$this->name} : i'll clear my desk<br/>";
        		}
        }
        
        class nestyboss{
        	private $employee = array();
        
        	function addemployess($employeeName){
        		 $this->employee[] = new minion($employeeName);
        	}
>        
        	function NewAddEmployess(employee $employee){
        		$this->employee[] = $employee;
        	} 
        
        	function projectfails(){
        		if( count($this->employee) >0 ){
        			$emp = array_pop($this->employee);
        			$emp->fire();
        		}
        	}
        }
>

        class cluedup extends employee{
        	function fire(){
        		print "$this->name : i'll call my lowyer <br>";
        	}
        }
        
        $boss= new nestyboss();
        $boss->addemployess('A');
        $boss->addemployess('B');
        $boss->NewAddEmployess( new cluedup('xiaoC') );
        
        $boss->NewAddEmployess( employee::recruit('harry') );
        
        $boss->projectfails();
        $boss->projectfails();
        $boss->projectfails();
        $boss->projectfails();
        $boss->projectfails();
        
        //-------------------------------------------
       
